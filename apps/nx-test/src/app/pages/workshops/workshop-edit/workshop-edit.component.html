<div class="container rounded bg-white mt-5 mb-5">
    <div class="row">
        <div class="col-md-3 border-right">

        </div>

        <div class="col-md-6 border-right">

            <div class="p-3 py-5">
                <div class="d-flex justify-content-between mt-3">
                    <h2 *ngIf="!isEdit">Create workshop</h2>
                    <h2 *ngIf="isEdit">Update workshop</h2>
                </div>
                <form #userForm="ngForm" (ngSubmit)="userForm.form.valid && onSubmit(userForm)"
                    class="needs-validation">
                    <input *ngIf="isEdit" type="hidden" id="id" name="id" [(ngModel)]="workshop!.id">
                    <div class="row">
                        <div class="form-group col-md-6">
                            <label for="id">Workshop Id</label>
                            <input type="text" class="form-control" id="id" name="id" placeholder="0" #id="ngModel"
                                [(ngModel)]="workshop!.id" disabled>
                        </div>
                        <div class="form-group col-md-6">
                            <label for="subjectId">Subject Id</label>
                            <input type="text" class="form-control" id="subjectId" name="subjectId" placeholder="0"
                                #id="ngModel" [(ngModel)]="workshop!.subjectId" disabled>
                        </div>
                    </div>
                    <div class="form-group my-3">
                        <label for="name">Subject name</label>
                        <input type="text" class="form-control" id="name" name="name" placeholder="Javascript"
                            #name="ngModel" [(ngModel)]="workshop!.name" required minlength="3" [ngClass]="{
                                'is-invalid': name.invalid && name.touched
                            }">
                        <div *ngIf="name.invalid && name.touched" class="invalid-feedback">
                            <div *ngIf="name.errors!['required']">
                                Name is required
                            </div>
                            <div *ngIf="name.errors!['minlength']">
                                Name must be at least 3 chars long.
                            </div>
                        </div>

                    </div>
                    <div class="invalid-feedback">
                        Needs a name
                    </div>
                    <div class="form-group my-3">
                        <label for="description">description</label>
                        <input type="text" class="form-control" id="description" name="description"
                            placeholder="Javascript is a programming language" #description="ngModel"
                            [(ngModel)]="workshop!.description" required minlength="10" [ngClass]="{
                                'is-invalid': description.invalid && description.touched
                            }">
                        <div *ngIf="description.invalid && description.touched" class="invalid-feedback">
                            <div *ngIf="description.errors!['required']">
                                Description is required
                            </div>
                            <div *ngIf="description.errors!['minlength']">
                                Description must be at least 10 chars long.
                            </div>
                        </div>
                    </div>
                    <div class="form-group my-3">
                        <label for="image">Image link</label>

                        <input type="text" class="form-control" id="image" name="image" placeholder="https://link.com"
                            #image="ngModel" [(ngModel)]="workshop!.image" required minlength="5" [ngClass]="{
                                'is-invalid': image.invalid && image.touched
                            }">

                        <div *ngIf="image.invalid && image.touched" class="invalid-feedback">
                            <div *ngIf="image.errors!['required']">
                                Image is required
                            </div>
                            <div *ngIf="image.errors!['minlength']">
                                Image must be at least 5 chars long.
                            </div>
                        </div>
                    </div>


                    <div class="form-group my-3">

                        <label for="requiredTools">Required Tools</label>
                        <div class="my-2" *ngFor="let tool of workshop.requiredTools; let i = index; i + 1;">

                            <div class="input-group mb-2 mr-sm-2">

                                <input type="text" class="form-control" id="requiredTools{{[i]}}"
                                    name="requiredTools{{[i]}}" placeholder="PC, Internet" #requiredTools="ngModel"
                                    [(ngModel)]="workshop!.requiredTools[i]" [ngClass]="{
                                'is-invalid': requiredTools.invalid && requiredTools.touched
                            }">
                                <div *ngIf="requiredTools.invalid && requiredTools.touched" class="invalid-feedback">
                                </div>
                                <div class="input-group-append ">
                                    <div class="input-group-text bg-danger" (click)="removeTool(i)"><i>
                                            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16"
                                                fill="currentColor" class="bi bi-trash" viewBox="0 0 16 16">
                                                <path
                                                    d="M5.5 5.5A.5.5 0 0 1 6 6v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5zm2.5 0a.5.5 0 0 1 .5.5v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5zm3 .5a.5.5 0 0 0-1 0v6a.5.5 0 0 0 1 0V6z" />
                                                <path fill-rule="evenodd"
                                                    d="M14.5 3a1 1 0 0 1-1 1H13v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V4h-.5a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1H6a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1h3.5a1 1 0 0 1 1 1v1zM4.118 4 4 4.059V13a1 1 0 0 0 1 1h6a1 1 0 0 0 1-1V4.059L11.882 4H4.118zM2.5 3V2h11v1h-11z" />
                                            </svg>
                                        </i>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <button type="button" class="btn btn-primary" (click)="addTool()">Add tool</button>
                    </div>
                    <div class="form-check my-3">
                        <label for="isFree">Is free</label>

                        <input type="checkbox" class="form-check-input" id="isFree" name="isFree" #isFree="ngModel"
                            [(ngModel)]="workshop!.isFree" [ngClass]="{
                                'is-invalid': isFree.invalid && isFree.touched
                            }">
                        <div *ngIf="isFree.invalid && isFree.touched" class="invalid-feedback">

                        </div>
                    </div>

                    <div class="mt-5 text-center"><button class="btn btn-success profile-button" type="submit">Save
                        </button>
                        <button class="btn btn-secondary my-2 ms-2" routerLink="../../">Cancel</button>
                        <button *ngIf="isEdit" class="btn btn-danger profile-button my-2 ms-2" type="delete"
                            (click)="delete(workshop.id)">Delete
                        </button>
                    </div>

                </form>


            </div>
        </div>
        <div class="col-md-3">
        </div>
    </div>
</div>